// ==UserScript==
// @name         FarmRPG Helper
// @namespace    https://greasyfork.org/users/1114461
// @homepage     https://github.com/fewfre/farmrpg-helper
// @version      1.0.4
// @description  QOL and helper scripts for FarmRPG
// @author       Fewfre
// @license      GNU GPLv3
// @match        https://farmrpg.com/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=farmrpg.com
// @resource     scriptStyle https://raw.githubusercontent.com/fewfre/farmrpg-helper/main/greasyfork/index.css
// @grant        GM_getResourceText
// @grant        GM_addStyle
// @grant        unsafeWindow
// ==/UserScript==
var xe = Object.defineProperty; var je = (n, e, t) => e in n ? xe(n, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : n[e] = t; var O = (n, e, t) => (je(n, typeof e != "symbol" ? e + "" : e, t), t); (function () { const e = document.createElement("link").relList; if (e && e.supports && e.supports("modulepreload")) return; for (const i of document.querySelectorAll('link[rel="modulepreload"]')) s(i); new MutationObserver(i => { for (const r of i) if (r.type === "childList") for (const o of r.addedNodes) o.tagName === "LINK" && o.rel === "modulepreload" && s(o) }).observe(document, { childList: !0, subtree: !0 }); function t(i) { const r = {}; return i.integrity && (r.integrity = i.integrity), i.referrerPolicy && (r.referrerPolicy = i.referrerPolicy), i.crossOrigin === "use-credentials" ? r.credentials = "include" : i.crossOrigin === "anonymous" ? r.credentials = "omit" : r.credentials = "same-origin", r } function s(i) { if (i.ep) return; i.ep = !0; const r = t(i); fetch(i.href, r) } })(); var B; (n => { const e = (typeof unsafeWindow < "u" ? unsafeWindow : window).myApp; function t(r, o) { e.onPageInit(r, o) } n.onPageInit = t; function s(r, o) { e.onPageBeforeRemove(r, o) } n.onPageBeforeRemove = s; function i() { e.mainView.router.refreshPage() } n.refreshPage = i })(B || (B = {})); var ie; (n => { n.SOUND_FINISHED = new Audio("data:audio/mpeg;base64,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XQDigEAQOE61LX5iKKY6TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/+OIZAAAAAGkAOAAAAAAA0gBwAAATEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq") })(ie || (ie = {})); function Qe(n, e) { return Math.random() * (e - n) + n } async function F(n, e) { return new Promise(t => { setTimeout(t, e ? Qe(n * 1e3, e * 1e3) : n * 1e3) }) } function re(n, e = {}) { return new Promise((t, s) => { const i = o => $(o).is(":visible") && parseInt($(o).css("opacity")) > .1; if ($(n).length && (!e.visible || i(n))) return t($(n + ":visible").first()[0]); const r = new MutationObserver(o => { $(n).length && (!e.visible || i(n)) && (t($(n + ":visible").first()[0]), r.disconnect()) }); e.timeout && F(e.timeout).then(() => { r.disconnect(), s(new Error("observer timed out")) }), r.observe(e.target || document.body, { attributes: !0, childList: !0, subtree: !0, ...e.config }) }) } async function pe(n, e) { return fetch(`worker.php?go=buyitem&id=${n}&qty=${e}`, { method: "POST" }).then(t => t.text()).then(t => Number.isNaN(Number.parseInt(t)) ? t : pe(n, t)) } const we = class extends EventTarget { constructor() { super(); O(this, "active", !1); O(this, "stopRequested", !1) } get isActive() { return this.active } get isStopRequested() { return this.stopRequested } async start() { if (!this.active) { this.active = !0; try { if (!$(".explorebtn").length) throw new Error("No exploration area detected"); for (; this.getStaminaCount() > 0 && (await this.exploreOne(), !this.stopRequested);)await F(.12, .28); this.active = !1, this.stopRequested = !1, this.dispatchEvent(new Event(we.FINISHED)), ie.SOUND_FINISHED.play() } catch (t) { alert(t.message) } } } stop() { this.stopRequested || !this.active || (this.stopRequested = !0) } async exploreOne() { if (!$(".explorebtn").length) throw new Error("No exploration area detected"); $(".explorebtn").trigger("click") } getStaminaCount() { return parseInt($("#stamina").text() || "0") } }; let H = we; O(H, "FINISHED", "FINISHED"); function M() { } function Le(n) { return n() } function be() { return Object.create(null) } function qe(n) { n.forEach(Le) } function Ue(n) { return typeof n == "function" } function Y(n, e) { return n != n ? e == e : n !== e || n && typeof n == "object" || typeof n == "function" } let se; function J(n, e) { return se || (se = document.createElement("a")), se.href = e, n === se.href } function Ze(n) { return Object.keys(n).length === 0 } function p(n, e) { n.appendChild(e) } function y(n, e, t) { n.insertBefore(e, t || null) } function b(n) { n.parentNode && n.parentNode.removeChild(n) } function ce(n, e) { for (let t = 0; t < n.length; t += 1)n[t] && n[t].d(e) } function w(n) { return document.createElement(n) } function S(n) { return document.createTextNode(n) } function P() { return S(" ") } function Ge() { return S("") } function x(n, e, t, s) { return n.addEventListener(e, t, s), () => n.removeEventListener(e, t, s) } function _(n, e, t) { t == null ? n.removeAttribute(e) : n.getAttribute(e) !== t && n.setAttribute(e, t) } function We(n) { return Array.from(n.childNodes) } function Z(n, e) { e = "" + e, n.data !== e && (n.data = e) } function L(n, e, t, s) { t == null ? n.style.removeProperty(e) : n.style.setProperty(e, t, s ? "important" : "") } let _e; function X(n) { _e = n } const V = [], ke = []; let z = []; const ye = [], Ve = Promise.resolve(); let ue = !1; function ze() { ue || (ue = !0, Ve.then(Te)) } function fe(n) { z.push(n) } const ae = new Set; let W = 0; function Te() { if (W !== 0) return; const n = _e; do { try { for (; W < V.length;) { const e = V[W]; W++, X(e), Je(e.$$) } } catch (e) { throw V.length = 0, W = 0, e } for (X(null), V.length = 0, W = 0; ke.length;)ke.pop()(); for (let e = 0; e < z.length; e += 1) { const t = z[e]; ae.has(t) || (ae.add(t), t()) } z.length = 0 } while (V.length); for (; ye.length;)ye.pop()(); ue = !1, ae.clear(), X(n) } function Je(n) { if (n.fragment !== null) { n.update(), qe(n.before_update); const e = n.dirty; n.dirty = [-1], n.fragment && n.fragment.p(n.ctx, e), n.after_update.forEach(fe) } } function Ke(n) { const e = [], t = []; z.forEach(s => n.indexOf(s) === -1 ? e.push(s) : t.push(s)), t.forEach(s => s()), z = e } const He = new Set; function $e(n, e) { n && n.i && (He.delete(n), n.i(e)) } function Xe(n, e, t, s) { const { fragment: i, after_update: r } = n.$$; i && i.m(e, t), s || fe(() => { const o = n.$$.on_mount.map(Le).filter(Ue); n.$$.on_destroy ? n.$$.on_destroy.push(...o) : qe(o), n.$$.on_mount = [] }), r.forEach(fe) } function et(n, e) { const t = n.$$; t.fragment !== null && (Ke(t.after_update), qe(t.on_destroy), t.fragment && t.fragment.d(e), t.on_destroy = t.fragment = null, t.ctx = []) } function tt(n, e) { n.$$.dirty[0] === -1 && (V.push(n), ze(), n.$$.dirty.fill(0)), n.$$.dirty[e / 31 | 0] |= 1 << e % 31 } function j(n, e, t, s, i, r, o, q = [-1]) { const l = _e; X(n); const c = n.$$ = { fragment: null, ctx: [], props: r, update: M, not_equal: i, bound: be(), on_mount: [], on_destroy: [], on_disconnect: [], before_update: [], after_update: [], context: new Map(e.context || (l ? l.$$.context : [])), callbacks: be(), dirty: q, skip_bound: !1, root: e.target || l.$$.root }; o && o(c.root); let h = !1; if (c.ctx = t ? t(n, e.props || {}, (f, m, ...C) => { const g = C.length ? C[0] : m; return c.ctx && i(c.ctx[f], c.ctx[f] = g) && (!c.skip_bound && c.bound[f] && c.bound[f](g), h && tt(n, f)), m }) : [], c.update(), h = !0, qe(c.before_update), c.fragment = s ? s(c.ctx) : !1, e.target) { if (e.hydrate) { const f = We(e.target); c.fragment && c.fragment.l(f), f.forEach(b) } else c.fragment && c.fragment.c(); e.intro && $e(n.$$.fragment), Xe(n, e.target, e.anchor, e.customElement), Te() } X(l) } class Q { $destroy() { et(this, 1), this.$destroy = M } $on(e, t) { if (!Ue(t)) return M; const s = this.$$.callbacks[e] || (this.$$.callbacks[e] = []); return s.push(t), () => { const i = s.indexOf(t); i !== -1 && s.splice(i, 1) } } $set(e) { this.$$set && !Ze(e) && (this.$$.skip_bound = !0, this.$$set(e), this.$$.skip_bound = !1) } } function nt(n) { let e; return { c() { e = S("AUTO EXPLORE") }, m(t, s) { y(t, e, s) }, d(t) { t && b(e) } } } function st(n) { let e; return { c() { e = S("❌ STOP EXPLORING") }, m(t, s) { y(t, e, s) }, d(t) { t && b(e) } } } function it(n) { let e; return { c() { e = S("❌ STOPPING") }, m(t, s) { y(t, e, s) }, d(t) { t && b(e) } } } function rt(n) { let e, t, s, i, r, o, q; function l(f, m) { return f[0] ? it : f[1] ? st : nt } let c = l(n), h = c(n); return { c() { e = w("div"), t = w("div"), t.textContent = "🤖", s = P(), i = w("div"), h.c(), _(t, "class", "item-media"), _(i, "class", "item-inner"), _(e, "class", r = "item-content " + (n[0] ? "disabled" : "") + " svelte-i5qs34") }, m(f, m) { y(f, e, m), p(e, t), p(e, s), p(e, i), h.m(i, null), o || (q = x(e, "click", n[2]), o = !0) }, p(f, [m]) { c !== (c = l(f)) && (h.d(1), h = c(f), h && (h.c(), h.m(i, null))), m & 1 && r !== (r = "item-content " + (f[0] ? "disabled" : "") + " svelte-i5qs34") && _(e, "class", r) }, i: M, o: M, d(f) { f && b(e), h.d(), o = !1, q() } } } function ot(n, e, t) { let s, i; const r = oe.bot; function o() { r.isActive ? r.stop() : r.start(), t(1, s = r.isActive), t(0, i = r.isStopRequested) } return r.addEventListener(H.FINISHED, () => { t(1, s = r.isActive), t(0, i = r.isStopRequested) }), t(1, s = r.isActive), t(0, i = r.isStopRequested), [i, s, o] } class lt extends Q { constructor(e) { super(), j(this, e, ot, rt, Y, {}) } } var oe; (n => { n.bot = new H; function e({ container: s }) { const i = $("<li />").insertAfter($(s).find(".explorebtn").closest("li")); if (i.length) return new lt({ target: i[0] }) } function t() { B.onPageInit("area", e), B.onPageInit("*", ({ name: s }) => { s !== "area" && n.bot.stop() }) } n.setup = t })(oe || (oe = {})); function Ee(n, e, t) { const s = n.slice(); return s[5] = e[t].id, s[6] = e[t].name, s[7] = e[t].img, s } function ve(n) { let e, t; return { c() { e = w("div"), t = S(n[2]), L(e, "color", "red") }, m(s, i) { y(s, e, i), p(e, t) }, p(s, i) { i & 4 && Z(t, s[2]) }, d(s) { s && b(e) } } } function Ce(n) { let e, t, s, i, r = n[6] + "", o, q, l, c; function h() { return n[4](n[5]) } return { c() { e = w("button"), t = w("img"), o = S(r), q = P(), J(t.src, s = n[7]) || _(t, "src", s), _(t, "alt", i = n[6]), _(t, "height", "20"), e.disabled = n[1], _(e, "class", "svelte-x7uv6v") }, m(f, m) { y(f, e, m), p(e, t), p(e, o), p(e, q), l || (c = x(e, "click", h), l = !0) }, p(f, m) { n = f, m & 1 && !J(t.src, s = n[7]) && _(t, "src", s), m & 1 && i !== (i = n[6]) && _(t, "alt", i), m & 1 && r !== (r = n[6] + "") && Z(o, r), m & 2 && (e.disabled = n[1]) }, d(f) { f && b(e), l = !1, c() } } } function qt(n) {
	let e, t, s, i, r, o, q, l, c, h, f, m, C, g = n[2] && ve(n), D = n[0], k = []; for (let v = 0; v < D.length; v += 1)k[v] = Ce(Ee(n, D, v)); return {
		c() {
			e = w("div"), t = w("div"), s = w("div"), i = w("div"), r = w("div"), o = S(`Quick buy and plant seeds\r
					`), q = w("span"), q.textContent = `(empty plots: ${K.getNumberOfEmptyPlots()})`, l = P(), g && g.c(), c = P(), h = w("ul"), f = w("li"), m = w("div"), C = w("div"); for (let v = 0; v < k.length; v += 1)k[v].c(); L(q, "font-size", "11px"), _(r, "class", "item-title"), _(i, "class", "item-content"), L(i, "display", "block"), L(i, "min-height", "auto"), _(C, "class", "item-inner seed-list svelte-x7uv6v"), _(m, "class", "item-content"), _(s, "class", "list-block"), _(t, "class", "card-content"), _(e, "class", "card")
		}, m(v, G) { y(v, e, G), p(e, t), p(t, s), p(s, i), p(i, r), p(r, o), p(r, q), p(i, l), g && g.m(i, null), p(s, c), p(s, h), p(h, f), p(f, m), p(m, C); for (let R = 0; R < k.length; R += 1)k[R] && k[R].m(C, null) }, p(v, [G]) { if (v[2] ? g ? g.p(v, G) : (g = ve(v), g.c(), g.m(i, null)) : g && (g.d(1), g = null), G & 11) { D = v[0]; let R; for (R = 0; R < D.length; R += 1) { const I = Ee(v, D, R); k[R] ? k[R].p(I, G) : (k[R] = Ce(I), k[R].c(), k[R].m(C, null)) } for (; R < k.length; R += 1)k[R].d(1); k.length = D.length } }, i: M, o: M, d(v) { v && b(e), g && g.d(), ce(k, v) }
	}
} function ct(n, e, t) { let s, i, { seeds: r } = e; async function o(l) { t(1, s = !0), t(2, i = null); const c = K.getNumberOfEmptyPlots(); if (c <= 0) { t(2, i = "ERROR: No empty plots found"), t(1, s = !1); return } try { const h = await pe(l, c); h === "success" ? (await fetch(`worker.php?go=plantall&id=${K.getFarmID()}`, { method: "POST" }), B.refreshPage()) : t(2, i = `ERROR: ${h || "blank response; inventory already full?"}`) } catch (h) { console.error(h), t(2, i = "ERROR") } t(1, s = !1) } const q = l => o(l); return n.$$set = l => { "seeds" in l && t(0, r = l.seeds) }, t(1, s = !1), t(2, i = null), [r, s, i, o, q] } class at extends Q { constructor(e) { super(), j(this, e, ct, qt, Y, { seeds: 0 }) } } var K; (n => { const e = [{ name: "Pepper", id: 12, img: "/img/items/seeds_peppers.png" }, { name: "Carrot", id: 20, img: "/img/items/seeds_carrots.png" }, { name: "Pea", id: 28, img: "/img/items/seeds_peas.png" }, { name: "Cucumber", id: 30, img: "/img/items/seeds_cucumber.png" }, { name: "Eggplant", id: 14, img: "/img/items/seeds_eggplants.png" }, { name: "Radish", id: 32, img: "/img/items/seeds_radish.png" }, { name: "Onion", id: 34, img: "/img/items/seeds_onions.png" }, { name: "Hops", id: 47, img: "/img/items/seeds_hops.png" }, { name: "Potato", id: 49, img: "/img/items/seeds_potato.png" }, { name: "Tomato", id: 16, img: "/img/items/seeds_tomato.png" }, { name: "Leek", id: 51, img: "/img/items/seeds_leek.png" }, { name: "Watermelon", id: 60, img: "/img/items/seeds_watermelon.png" }, { name: "Corn", id: 64, img: "/img/items/seeds_corn.png" }, { name: "Cabbage", id: 66, img: "/img/items/seeds_cabbage.png" }, { name: "Pine", id: 410, img: "/img/items/seeds_pine.png" }, { name: "Pumpkin", id: 68, img: "/img/items/seeds_pumpkin.png" }, { name: "Wheat", id: 70, img: "/img/items/seeds_wheet.png" }, { name: "Mushroom", id: 395, img: "/img/items/seeds_mushroom.png" }, { name: "Broccoli", id: 257, img: "/img/items/seeds_broccoli.png" }, { name: "Cotton", id: 255, img: "/img/items/seeds_cotton.png" }, { name: "Sunflower", id: 374, img: "/img/items/seeds_sunflower.png" }, { name: "Beet", id: 449, img: "/img/items/seeds_beet.png" }, { name: "Rice", id: 631, img: "/img/items/seeds_rice.png" }]; function t() { return $("#croparea [data-farm]").data("farm") } n.getFarmID = t; function s() { return $("#crops").find(".cropitem,.plantseed").length } n.getNumberOfPlots = s; function i() { return $("#crops").find(".plantseed").length } n.getNumberOfEmptyPlots = i; function r({ container: q }) { const l = $("<div />").insertAfter($(q).find("#croparea")); if (l.length) return new at({ target: l[0], props: { seeds: e } }) } function o() { B.onPageInit("xfarm", r) } n.setup = o })(K || (K = {})); const Ae = class extends EventTarget { constructor() { super(); O(this, "active", !1); O(this, "stopRequested", !1) } get isActive() { return this.active } get isStopRequested() { return this.stopRequested } async start() { if (!this.active) { this.active = !0; try { if (!$("#fishinwater").length) throw new Error("No fishing area detected"); for (; this.getBaitCount() > 0 && (await this.fishOne(), !this.stopRequested);)await F(.3, .4); this.active = !1, this.stopRequested = !1, this.dispatchEvent(new Event(Ae.FINISHED)), ie.SOUND_FINISHED.play() } catch (t) { alert(t.message) } } } stop() { this.stopRequested || !this.active || (this.stopRequested = !0) } async fishOne() { await this.clickFish(); try { await re(".picker-catch.modal-in", { visible: !0, timeout: .1 }) } catch { return this.stopRequested ? void 0 : await this.fishOne() } if (await F(.33), this.stopRequested) { this.catchFish(); return } await F(.23, .888), await this.catchFish(), await F(.05, .115) } async catchFish() { if (!$(".fishcaught").length) throw new Error("Cannot find fishing to catch"); $(".fishcaught").trigger("click") } async clickFish() { if (!$("#fishinwater").length) throw new Error("No fishing area detected"); (await re(".fish.catch")).click() } getBaitCount() { return parseInt($("#baitarea strong").first().text() || "0") } }; let ee = Ae; O(ee, "FINISHED", "FINISHED"); function ut(n) { let e; return { c() { e = S("🤖 AUTO FISH") }, m(t, s) { y(t, e, s) }, d(t) { t && b(e) } } } function ft(n) { let e; return { c() { e = S("🤖❌ STOP FISHING") }, m(t, s) { y(t, e, s) }, d(t) { t && b(e) } } } function dt(n) { let e; return { c() { e = S("🤖❌ STOPPING") }, m(t, s) { y(t, e, s) }, d(t) { t && b(e) } } } function mt(n) { let e, t, s; function i(q, l) { return q[0] ? dt : q[1] ? ft : ut } let r = i(n), o = r(n); return { c() { e = w("button"), o.c(), e.disabled = n[0] }, m(q, l) { y(q, e, l), o.m(e, null), t || (s = x(e, "click", n[2]), t = !0) }, p(q, [l]) { r !== (r = i(q)) && (o.d(1), o = r(q), o && (o.c(), o.m(e, null))), l & 1 && (e.disabled = q[0]) }, i: M, o: M, d(q) { q && b(e), o.d(), t = !1, s() } } } function ht(n, e, t) { let s, i; const r = te.bot; function o() { r.isActive ? r.stop() : r.start(), t(1, s = r.isActive), t(0, i = r.isStopRequested) } return r.addEventListener(ee.FINISHED, () => { t(1, s = r.isActive), t(0, i = r.isStopRequested) }), t(1, s = r.isActive), t(0, i = r.isStopRequested), [i, s, o] } class gt extends Q { constructor(e) { super(), j(this, e, ht, mt, Y, {}) } } function Ie(n, e, t) { const s = n.slice(); return s[8] = e[t].name, s[9] = e[t].num, s[10] = e[t].imgSrc, s } function pt(n) { let e, t = n[0], s = []; for (let i = 0; i < t.length; i += 1)s[i] = Me(Ie(n, t, i)); return { c() { for (let i = 0; i < s.length; i += 1)s[i].c(); e = Ge() }, m(i, r) { for (let o = 0; o < s.length; o += 1)s[o] && s[o].m(i, r); y(i, e, r) }, p(i, r) { if (r & 65) { t = i[0]; let o; for (o = 0; o < t.length; o += 1) { const q = Ie(i, t, o); s[o] ? s[o].p(q, r) : (s[o] = Me(q), s[o].c(), s[o].m(e.parentNode, e)) } for (; o < s.length; o += 1)s[o].d(1); s.length = t.length } }, d(i) { ce(s, i), i && b(e) } } } function _t(n) { let e; return { c() { e = S("No other baits available") }, m(t, s) { y(t, e, s) }, p: M, d(t) { t && b(e) } } } function wt(n) { let e; return { c() { e = S(n[1]) }, m(t, s) { y(t, e, s) }, p(t, s) { s & 2 && Z(e, t[1]) }, d(t) { t && b(e) } } } function At(n) { let e; return { c() { e = S("Loading...") }, m(t, s) { y(t, e, s) }, p: M, d(t) { t && b(e) } } } function Me(n) { let e, t, s, i, r, o = n[9] + "", q, l, c, h, f; function m() { return n[7](n[8]) } return { c() { e = w("span"), t = w("img"), r = P(), q = S(o), l = P(), J(t.src, s = n[10]) || _(t, "src", s), _(t, "height", "14"), _(t, "alt", i = n[8]), _(e, "class", "quick-swap-bttn svelte-ziplh9"), _(e, "title", c = n[8]) }, m(C, g) { y(C, e, g), p(e, t), p(e, r), p(e, q), p(e, l), h || (f = x(e, "click", m), h = !0) }, p(C, g) { n = C, g & 1 && !J(t.src, s = n[10]) && _(t, "src", s), g & 1 && i !== (i = n[8]) && _(t, "alt", i), g & 1 && o !== (o = n[9] + "") && Z(q, o), g & 1 && c !== (c = n[8]) && _(e, "title", c) }, d(C) { C && b(e), h = !1, f() } } } function bt(n) { let e; return { c() { e = S("BUY 200 WORMS") }, m(t, s) { y(t, e, s) }, p: M, d(t) { t && b(e) } } } function kt(n) { let e; return { c() { e = S(n[3]) }, m(t, s) { y(t, e, s) }, p(t, s) { s & 8 && Z(e, t[3]) }, d(t) { t && b(e) } } } function yt(n) {
	let e, t, s, i, r, o, q, l, c; function h(k, v) { return k[2] ? At : k[1] ? wt : k[0].length <= 0 ? _t : pt } let f = h(n), m = f(n); function C(k, v) { return k[3] ? kt : bt } let g = C(n), D = g(n); return {
		c() {
			e = w("div"), t = w("div"), s = w("div"), i = w("div"), r = S(`Quick Swap:\r
				`), m.c(), o = P(), q = w("button"), D.c(), _(i, "class", "quick-swap-area svelte-ziplh9"), q.disabled = n[4], L(s, "display", "flex"), _(t, "class", "row"), L(t, "margin-bottom", "0"), _(e, "class", "card-content-inner"), L(e, "padding", "5px")
		}, m(k, v) { y(k, e, v), p(e, t), p(t, s), p(s, i), p(i, r), m.m(i, null), p(s, o), p(s, q), D.m(q, null), l || (c = x(q, "click", n[5]), l = !0) }, p(k, [v]) { f === (f = h(k)) && m ? m.p(k, v) : (m.d(1), m = f(k), m && (m.c(), m.m(i, null))), g === (g = C(k)) && D ? D.p(k, v) : (D.d(1), D = g(k), D && (D.c(), D.m(q, null))), v & 16 && (q.disabled = k[4]) }, i: M, o: M, d(k) { k && b(e), m.d(), D.d(), l = !1, c() }
	}
} function Et(n, e, t) { let s, i, r, o; async function q() { try { t(4, s = !0); const f = await pe(18, 200); t(4, s = !1), f == "success" || f === "" ? B.refreshPage() : t(3, i = f) } catch (f) { t(3, i = "ERROR"), console.error(f) } } let l; re("#last_bait").then(async () => { try { t(2, r = !1), t(0, l = await te.getCachedBaitData(jQuery("#last_bait").html())), t(0, l = l.filter(f => !f.selected)) } catch (f) { console.error(f) } }); async function c(f) { try { const m = await fetch(`worker.php?go=selectbait&bait=${f}`, { method: "POST" }).then(C => C.text()); m === "success" ? B.refreshPage() : t(1, o = `ERROR: ${m}`) } catch (m) { t(1, o = "ERROR"), console.error(m) } } const h = f => c(f); return t(4, s = !1), t(3, i = null), t(2, r = !0), t(0, l = []), t(1, o = null), [l, o, r, i, s, q, c, h] } class vt extends Q { constructor(e) { super(), j(this, e, Et, yt, Y, {}) } } var te; (n => { n.bot = new ee; async function e() { return new Promise(l => { $("<div/>").load("changebait.php?from=fishing&id=" + $(".zone_id").html(), function () { l($(this).find(".selectbait").map(function () { return { name: $(this).data("bait"), num: $(this).find(".item-after").text(), imgSrc: $(this).find("img").attr("src"), selected: $(this).find(".item-title i").text() === "check" } }).get()) }) }) } let t; async function s(l) { var h; const c = t && l && t.active === l ? t.list : await e(); return t = { list: c.slice(), active: (h = c.find(f => f.selected)) == null ? void 0 : h.name }, c } n.getCachedBaitData = s; function i(l) { const c = $(l).find(".buttons-row").append("<div />"); if (c.length) return new gt({ target: c[0] }) } function r(l) { const c = $("<div />").insertAfter($(l).find("#baitarea")); if (c.length) return new vt({ target: c[0] }) } function o({ container: l }) { i(l), r(l) } function q() { B.onPageInit("fishing", o), B.onPageInit("*", ({ name: l }) => { l !== "fishing" && n.bot.stop() }) } n.setup = q })(te || (te = {})); function Se(n) { let e, t, s; return { c() { e = w("button"), e.textContent = "CLAIM ALL", L(e, "margin-left", "10px") }, m(i, r) { y(i, e, r), t || (s = x(e, "click", n[1]), t = !0) }, p: M, d(i) { i && b(e), t = !1, s() } } } function Ct(n) { let e, t = n[0] && Se(n); return { c() { t && t.c(), e = Ge() }, m(s, i) { t && t.m(s, i), y(s, e, i) }, p(s, [i]) { s[0] ? t ? t.p(s, i) : (t = Se(s), t.c(), t.m(e.parentNode, e)) : t && (t.d(1), t = null) }, i: M, o: M, d(s) { t && t.d(s), s && b(e) } } } function It(n, e, t) { let s; function i() { t(0, s = !1), r() } async function r() { jQuery(".claimbtn").length && (jQuery(".claimbtn").first().click(), await re(".modal-button", { timeout: .25 }), await F(.5), jQuery(".modal-button").first().click(), await F(.25), await r()) } return t(0, s = !0), [s, i] } class Mt extends Q { constructor(e) { super(), j(this, e, It, Ct, Y, {}) } } var de; (n => { function e({ container: s }) { if (!$(s).find(".claimbtn").length) return; const i = $("<span />").appendTo($(".claimbtn:first-of-type").closest(".list-block").prev()); if (i.length) return new Mt({ target: i[0] }) } function t() { B.onPageInit("mastery", e) } n.setup = t })(de || (de = {})); function Re(n, e, t) { const s = n.slice(); return s[1] = e[t].section, s[2] = e[t].links, s } function De(n, e, t) { const s = n.slice(); return s[5] = e[t].link, s[6] = e[t].text, s[7] = e[t].icon, s[8] = e[t].params, s[10] = t, s } function Oe(n) { let e, t, s = n[1] + "", i; return { c() { e = w("div"), t = w("strong"), i = S(s), L(e, "margin-top", "3px") }, m(r, o) { y(r, e, o), p(e, t), p(t, i) }, p(r, o) { o & 1 && s !== (s = r[1] + "") && Z(i, s) }, d(r) { r && b(e) } } } function St(n) { let e; return { c() { e = S(" •") }, m(t, s) { y(t, e, s) }, d(t) { t && b(e) } } } function Ne(n) { let e, t, s, i; return { c() { e = w("img"), i = P(), J(e.src, t = n[7]) || _(e, "src", t), _(e, "alt", s = n[6]), _(e, "height", "12") }, m(r, o) { y(r, e, o), y(r, i, o) }, p(r, o) { o & 1 && !J(e.src, t = r[7]) && _(e, "src", t), o & 1 && s !== (s = r[6]) && _(e, "alt", s) }, d(r) { r && b(e), r && b(i) } } } function Be(n) { let e, t, s = (n[6] ?? "") + "", i, r, o = n[10] != 0 && St(), q = n[7] && Ne(n); return { c() { o && o.c(), e = P(), t = w("a"), q && q.c(), i = S(s), _(t, "href", r = n[5] + ".php" + (n[8] ? "?" + new URLSearchParams(n[8]).toString() : "")), _(t, "class", "close-panel"), _(t, "data-view", ".view-main") }, m(l, c) { o && o.m(l, c), y(l, e, c), y(l, t, c), q && q.m(t, null), p(t, i) }, p(l, c) { l[7] ? q ? q.p(l, c) : (q = Ne(l), q.c(), q.m(t, i)) : q && (q.d(1), q = null), c & 1 && s !== (s = (l[6] ?? "") + "") && Z(i, s), c & 1 && r !== (r = l[5] + ".php" + (l[8] ? "?" + new URLSearchParams(l[8]).toString() : "")) && _(t, "href", r) }, d(l) { o && o.d(l), l && b(e), l && b(t), q && q.d() } } } function Pe(n) { let e, t, s, i = n[1] && Oe(n), r = n[2], o = []; for (let q = 0; q < r.length; q += 1)o[q] = Be(De(n, r, q)); return { c() { e = w("div"), i && i.c(), t = P(); for (let q = 0; q < o.length; q += 1)o[q].c(); s = P() }, m(q, l) { y(q, e, l), i && i.m(e, null), p(e, t); for (let c = 0; c < o.length; c += 1)o[c] && o[c].m(e, null); p(e, s) }, p(q, l) { if (q[1] ? i ? i.p(q, l) : (i = Oe(q), i.c(), i.m(e, t)) : i && (i.d(1), i = null), l & 1) { r = q[2]; let c; for (c = 0; c < r.length; c += 1) { const h = De(q, r, c); o[c] ? o[c].p(h, l) : (o[c] = Be(h), o[c].c(), o[c].m(e, s)) } for (; c < o.length; c += 1)o[c].d(1); o.length = r.length } }, d(q) { q && b(e), i && i.d(), ce(o, q) } } } function Rt(n) { let e, t, s, i, r, o, q, l, c, h = n[0], f = []; for (let m = 0; m < h.length; m += 1)f[m] = Pe(Re(n, h, m)); return { c() { e = w("div"), t = w("div"), s = w("div"), i = w("div"), i.innerHTML = '<i class="fa fa-fw fa-lightbulb-o"></i>', r = P(), o = w("div"), q = w("div"), q.textContent = "  Shortcuts", l = P(), c = w("div"); for (let m = 0; m < f.length; m += 1)f[m].c(); _(q, "class", "item-title"), L(c, "font-size", "14px"), L(s, "display", "grid"), L(s, "grid-template-columns", "1fr auto"), _(t, "class", "item-inner"), _(e, "class", "item-content") }, m(m, C) { y(m, e, C), p(e, t), p(t, s), p(s, i), p(s, r), p(s, o), p(o, q), p(o, l), p(o, c); for (let g = 0; g < f.length; g += 1)f[g] && f[g].m(c, null) }, p(m, [C]) { if (C & 1) { h = m[0]; let g; for (g = 0; g < h.length; g += 1) { const D = Re(m, h, g); f[g] ? f[g].p(D, C) : (f[g] = Pe(D), f[g].c(), f[g].m(c, null)) } for (; g < f.length; g += 1)f[g].d(1); f.length = h.length } }, i: M, o: M, d(m) { m && b(e), ce(f, m) } } } function Dt(n, e, t) { let { sections: s } = e; return n.$$set = i => { "sections" in i && t(0, s = i.sections) }, [s] } class Ot extends Q { constructor(e) { super(), j(this, e, Dt, Rt, Y, { sections: 0 }) } } var me; (n => { function e() { return $('.view-main a[href^="xfarm.php?id="]').attr("href").match(/\?id=(\d*)/)[1] } const t = [{ links: [{ link: "xfarm", text: "Farm", params: { id: e() } }, { link: "town", text: "Town" }, { link: "fish", text: "Fish" }, { link: "explore", text: "Explore" }] }, { section: "Town", links: [{ link: "market", text: "Sell" }, { link: "pets", text: "Pets" }, { link: "bank", text: "Bank" }, { link: "steakmarket", text: "Steak" }] }, { section: "Daily", links: [{ link: "daily", text: "Chores" }, { link: "well", text: "Well" }, { link: "crack", text: "Vault" }, { link: "spin", text: "Wheel" }, { link: "comm", text: "Community Center" }] }]; function s({ container: r }) { const o = $("<li />").insertAfter($(r).find(".list-block li:first-of-type")); if (o.length) return new Ot({ target: o[0], props: { sections: t } }) } function i() { s({ container: document.querySelector(".view.view-left.navbar-through .page") }) } n.setup = i })(me || (me = {})); function Nt(n) {
	let e, t; return {
		c() {
			e = S(`🤖 CHEAT\r
		`), t = w("abbr"), t.textContent = "ⓘ", _(t, "title", "Passwords fetched from the buddy.farm passwords list: https://buddy.farm/passwords/")
		}, m(s, i) { y(s, e, i), y(s, t, i) }, d(s) { s && b(e), s && b(t) }
	}
} function Bt(n) { let e; return { c() { e = S("ALL USED") }, m(t, s) { y(t, e, s) }, d(t) { t && b(e) } } } function Pt(n) { let e; return { c() { e = S("Loading...") }, m(t, s) { y(t, e, s) }, d(t) { t && b(e) } } } function Lt(n) { let e, t, s, i; function r(l, c) { return l[1] ? Pt : l[0] ? Bt : Nt } let o = r(n), q = o(n); return { c() { e = w("button"), q.c(), e.disabled = t = n[0] || n[1], _(e, "class", "svelte-1bj479l") }, m(l, c) { y(l, e, c), q.m(e, null), s || (i = x(e, "click", n[2]), s = !0) }, p(l, [c]) { o !== (o = r(l)) && (q.d(1), q = o(l), q && (q.c(), q.m(e, null))), c & 3 && t !== (t = l[0] || l[1]) && (e.disabled = t) }, i: M, o: M, d(l) { l && b(e), q.d(), s = !1, i() } } } function Ut(n, e, t) { let s, i; async function r() { t(1, s = !0); const { allPasswords: o, usedPasswords: q } = await le.getPasswordData(); t(1, s = !1); const l = o.filter(c => !q.includes(c)); if (l.length <= 0) { t(0, i = !0); return } jQuery("#popw").val(l[0]) } return t(1, s = !1), t(0, i = !1), [i, s, r] } class Gt extends Q { constructor(e) { super(), j(this, e, Ut, Lt, Y, {}) } } var le; (n => { async function e() { return fetch("https://buddy.farm/page-data/passwords/page-data.json").then(l => l.json()).then(l => l.result.data.farmrpg.passwords.map(c => c.password)) } async function t() { return new Promise(l => { $("<div/>").load("popwlog.php", function () { l($(this).find(".list-block .item-title span:first-of-type").map((c, h) => $(h).text()).get()) }) }) } let s, i; async function r() { return s ?? (s = (await e()).map(l => l.toLowerCase())), i ?? (i = (await t()).map(l => l.toLowerCase())), { allPasswords: s, usedPasswords: i } } n.getPasswordData = r; function o({ container: l }) { const c = $(l).find("#popw").closest(".item-inner").append("<div />"); if ($(".popwbtn").on("click", function () { i == null || i.push($("#popw").val().toString()) }), !!c.length) return new Gt({ target: c[0] }) } function q() { B.onPageInit("postoffice", o) } n.setup = q })(le || (le = {})); var he; (n => {
	const t = "0123456789".split(""), s = Array.from({ length: Math.pow(10, 4) }).map((I, a) => a.toString().padStart(4, "0")), i = { WRONG: 0, PARTIAL: 1, CORRECT: 2 }, r = (I, a) => Array.from({ length: I }).fill(a), o = I => I[Math.floor(Math.random() * I.length)], q = (I, a) => Array.from(I).filter(u => u == a).length, l = (I, a) => { let u = I.indexOf(a); return u > -1 && I.splice(u, 1)[0] }, c = (I, a) => Array.from(I).filter(u => !Array.from(a).includes(u)); class h { constructor(a) { O(this, "word_list"); O(this, "letter_count"); O(this, "word_scores"); O(this, "position_letter_count"); O(this, "position_word_scores"); this.word_list = (a == null ? void 0 : a()) ?? [], this.letter_count = {}, this.word_scores = {}, this.position_letter_count = r(4).map(() => ({})), this.position_word_scores = {}, this.gen_word_scores(), this.gen_positional_word_scores() } copy() { let a = new h; return a.word_list = this.word_list.slice(), a.word_scores = { ...this.word_scores }, a.position_word_scores = { ...this.position_word_scores }, a } get length() { return this.word_list.length } get_random_word() { return o(this.word_list) } get_hiscore_word(a = !1) { const u = a ? this.position_word_scores : this.word_scores; let d = "", A = 0; for (let E of this.word_list) u[E] > A && (A = u[E], d = E); return d } get_maximized_word(a) { this.gen_letter_count(); let u = "", d = 0; for (let A of this.word_list) { let E = 0; for (let N of a) A.indexOf(N) > -1 && (E += 1); E > d && (d = E, u = A) } return u } gen_letter_count() { this.letter_count = Object.fromEntries(t.map(a => [a, 0])); for (let a of this.word_list) for (let u of new Set(a)) this.letter_count[u] += 1 } gen_positional_letter_count() { for (let a = 0; a < 4; a++)this.position_letter_count[a] = Object.fromEntries(t.map(u => [u, 0])); for (let a of this.word_list) Array.from(a).forEach((u, d) => { this.position_letter_count[d][u] += 1 }) } gen_word_scores() { this.gen_letter_count(), this.word_scores = {}; for (let a of this.word_list) { let u = 0; for (let d of new Set(a)) u += this.letter_count[d]; this.word_scores[a] = u } } gen_positional_word_scores() { this.gen_positional_letter_count(), this.position_word_scores = {}; for (let a of this.word_list) { let u = {}; Array.from(a).forEach((d, A) => { u[d] !== void 0 ? u[d] = this.position_letter_count[A][d] : u[d] = Math.max(u[d], this.position_letter_count[A][d]) }), this.position_word_scores[a] = Object.values(u).length } } filter_by_mask(a, u, d) { let A = []; for (let E of this.word_list) if (!a.some((T, U) => !!T.length && E[U] != T[0])) { let T = !0; for (let U = 0; U < u.length; U++) { let ne = !1; const Fe = u[U]; for (let Ye of Fe) E[U] == Ye && (ne = !0); if (ne) { T = !1; break } } T && (t.some(U => !d[q(E.split(""), U)].has(U)) || A.push(E)) } this.word_list = A } } class f { constructor(a, u, d) { O(this, "word"); O(this, "result"); O(this, "guessed_correctly"); this.word = a, this.result = d ?? this.get_result(u), this.guessed_correctly = q(this.result, i.CORRECT) === 4 } toString() { let a = `${this.word}: `; for (let u of this.result) return u == 2 ? a += "G" : u == 1 && (a += "Y"), u == 0 && (a += "_"), a } get_result(a) { let u = r(4, i.WRONG), d = [...a]; Array.from(this.word).forEach((A, E) => { A == d[E] && (u[E] = i.CORRECT, d[E] = "") }); for (let A = 0; A < this.word.length; A++)if (d.includes(this.word[A]) && u[A] != i.CORRECT) { u[A] = i.PARTIAL; for (let E = 0; E < 4; E++)if (d[E] == this.word[A]) { d[E] = ""; break } } return q(u, i.CORRECT) === 4 && (this.guessed_correctly = !0), u } } class m {
		constructor(a = "#random") { O(this, "correct_word"); O(this, "guesses"); a === "#random" ? this.correct_word = v.get_random_word() : v.word_list.indexOf(a) > -1 && (this.correct_word = a), this.guesses = [] } toString() {
			return `::${this.correct_word}::` + this.guesses.map((a, u) => `
${u + 1}. ${a}`).join("")
		} guess(a, u) { return this.guesses.push(new f(a, this.correct_word, u)), this.guesses.at(-1).guessed_correctly }
	} class C { constructor(a) { O(this, "yes_mask"); O(this, "no_mask"); O(this, "allowed_mask"); O(this, "must_use"); O(this, "remaining_words"); this.yes_mask = r(4).map(() => []), this.no_mask = r(4).map(() => []), this.allowed_mask = r(4 + 1).map(() => new Set(t)), this.must_use = new Set, this.remaining_words = a.copy() } filter_word_list() { this.remaining_words.filter_by_mask(this.yes_mask, this.no_mask, this.allowed_mask) } reuse_green() { let a = r(4).map(() => []), u = this.yes_mask, d = new Set; this.yes_mask.concat(this.no_mask).forEach(U => { for (let ne of U) d.add(ne) }); let A = new Set(c(this.allowed_mask[1], d)), E = A, N = [new Set(t), ...r(4).map(() => new Set(E))], T = G.copy(); return T.filter_by_mask(a, u, N), T.length > 0 ? T.get_maximized_word(Array.from(A)) : "" } make_guess() { if (!R.includes("scored") || R.includes("firstrandom") && this.remaining_words.length == G.length) return this.remaining_words.get_random_word(); let a = 4 - this.yes_mask.filter(u => u.length === 0).length; if (R.includes("easymode") && a > 0 && this.remaining_words.length > 2) { let u = this.reuse_green(); if (u != "") return u } return R.includes("recount") && (this.remaining_words.gen_word_scores(), this.remaining_words.gen_positional_word_scores()), R.includes("position") ? this.remaining_words.get_hiscore_word(!0) : this.remaining_words.get_hiscore_word(!1) } update_yes_mask(a) { a.result.forEach((u, d) => { u == i.CORRECT && (this.yes_mask[d].includes(a.word[d]) || this.yes_mask[d].push(a.word[d])) }) } update_no_mask(a) { a.result.forEach((u, d) => { u == i.PARTIAL && (this.no_mask[d].includes(a.word[d]) || this.no_mask[d].push(a.word[d])), u == i.WRONG && q(a.word, a.word[d]) > 1 && (this.no_mask[d].includes(a.word[d]) || this.no_mask[d].push(a.word[d])) }) } update_allowed_mask(a) { let u = {}; Array.from(a.word).forEach((d, A) => { u[d] ? u[d].push(a.result[A]) : u[d] = [a.result[A]] }), Object.entries(u).forEach(([d, A]) => { if (A.includes(i.WRONG)) { let E = A.length - q(A, i.WRONG); for (let N = E + 1; N < 4; N++)this.allowed_mask[N].delete(d) } if (A.includes(i.PARTIAL) || A.includes(i.CORRECT)) { let E = q(A, i.PARTIAL) + q(A, i.CORRECT); for (let N = 0; N < E; N++)this.allowed_mask[N].delete(d) } }) } update_mask_with_guess(a) { this.update_yes_mask(a), this.update_no_mask(a), this.update_allowed_mask(a) } update_mask_with_remaining_words() { this.remaining_words.gen_letter_count(), Object.entries(this.remaining_words.letter_count).forEach(([a, u]) => { if (u == 0) for (let d = 1; d < this.allowed_mask.length; d++)this.allowed_mask[d].delete(a) }) } remove_word(a) { l(this.remaining_words.word_list, a) } } function g() { const I = new m(null), a = new C(G); return { getGuess() { return a.make_guess() }, submitResult(u, d) { const A = I.guess(u, (typeof d == "string" ? d.split("") : d).map(E => parseInt(E))); return a.remove_word(u), a.update_mask_with_guess(I.guesses.at(-1)), a.filter_word_list(), a.update_mask_with_remaining_words(), A } } } n.realtimeGameSolver = g; function D(I = !0, a = null) { I || console.log("game started"); const u = new m("9876"), d = new C(G); let A = !1, E = 10; for (; !A && E > 0;) { let N = d.make_guess(); u.guess(N) && (A = !0), d.remove_word(N), d.update_mask_with_guess(u.guesses.at(-1)), d.filter_word_list(), d.update_mask_with_remaining_words(), E-- } return I || console.log(u), u.guesses.at(-1).guessed_correctly ? u.guesses : -1 } function k() { let I = Date.now(); D(!1), console.log(`Time: ${Date.now() - I}`) } n.main = k; const v = new h(() => s), G = new h(() => s), R = ["scored", "recount", "firstrandom_off", "position", "easymode"]
})(he || (he = {})); function Tt(n) { let e, t, s; return { c() { e = w("button"), e.textContent = "🤖 GUESS" }, m(i, r) { y(i, e, r), t || (s = x(e, "click", n[0]), t = !0) }, p: M, i: M, o: M, d(i) { i && b(e), t = !1, s() } } } function Ft(n) { const e = { G: 0, Y: 1, B: 2 }; function t() { const s = he.realtimeGameSolver(); jQuery(".col-25[data-type]").closest(".card-content-inner").find(".row").map((r, o) => ({ cellsResult: jQuery(o).find("[data-type]").map((q, l) => e[jQuery(l).data("type")]).get(), cellsGuess: jQuery(o).find("[data-type]").map((q, l) => jQuery(l).text()).get() })).get().forEach(r => s.submitResult(r.cellsGuess.join(""), r.cellsResult)), jQuery("#vaultcode").val(s.getGuess()) } return [t] } class Yt extends Q { constructor(e) { super(), j(this, e, Ft, Tt, Y, {}) } } var ge; (n => { function e({ container: s }) { const i = $("<div />").appendTo($(s).find("#vaultcode").closest(".item-inner")); if (i.length) return new Yt({ target: i[0] }) } function t() { B.onPageInit("crack", e) } n.setup = t })(ge || (ge = {})); typeof GM_getResourceText < "u" && GM_addStyle(GM_getResourceText("scriptStyle")); me.setup(); te.setup(); oe.setup(); le.setup(); ge.setup(); de.setup(); K.setup();
